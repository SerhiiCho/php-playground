{"version":3,"sources":["webpack://smooth-loader-test/./src/index.ts","webpack://smooth-loader-test/./node_modules/smooth-loader/lib/js/LazyLoader.js","webpack://smooth-loader-test/./node_modules/smooth-loader/lib/js/index.js","webpack://smooth-loader-test/webpack/bootstrap","webpack://smooth-loader-test/webpack/startup"],"names":["__importDefault","this","mod","__esModule","exports","require","Object","defineProperty","value","default","images","observerOptions","root","threshold","img","imageUrl","getAttribute","style","opacity","transition","tagName","setAttribute","addEventListener","backgroundImage","setTimeout","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","loadImage","unobserve","observe","window","createObserver","LazyLoader_1","selector","document","querySelectorAll","NodeList","getImagesElements","execute","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call"],"mappings":"8CACA,IAAIA,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,EAAQD,YAAa,EACCH,EAAgBK,EAAQ,MAC/B,W,YCLfC,OAAOC,eAAeH,EAAS,aAAc,CAAEI,OAAO,IAyDtDJ,EAAQK,QApDR,MACI,YAAYC,GACRT,KAAKU,gBAAkB,CACnBC,KAAM,KACNC,UAAW,GAEfZ,KAAKS,OAASA,EAMlB,UAAUI,GACN,MAAMC,EAAWD,EAAIE,aAAa,YAClCF,EAAIG,MAAMC,QAAU,IACpBJ,EAAIG,MAAME,WAAa,gBAClBJ,IAEe,QAAhBD,EAAIM,SACJN,EAAIO,aAAa,MAAON,GACxBD,EAAIQ,iBAAiB,QAAQ,IAAMR,EAAIG,MAAMC,QAAU,QAGvDJ,EAAIG,MAAMM,gBAAkB,OAAOT,EAAIE,aAAa,eACpDQ,YAAW,IAAMV,EAAIG,MAAMC,QAAU,KAAK,KAMlD,eAAeJ,GACM,IAAIW,sBAAqB,CAACC,EAASC,KAChDD,EAAQE,SAAQC,IACRA,EAAMC,iBACN7B,KAAK8B,UAAUjB,GACfa,EAASK,UAAUlB,SAG5Bb,KAAKU,iBACCsB,QAAQnB,GAOrB,UACIb,KAAKS,OAAOkB,SAAQd,IACfoB,OAA6B,qBAA0BjC,KAAKkC,eAAerB,GAA1Cb,KAAK8B,UAAUjB,S,oBCrD7D,IAAId,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDI,OAAOC,eAAeH,EAAS,aAAc,CAAEI,OAAO,IACtD,MAAM4B,EAAepC,EAAgB,EAAQ,MAC7CI,EAAQK,QAAW4B,IACf,MAAM3B,EAKV,SAA2B2B,GACvB,MAAwB,iBAAbA,GAAsC,KAAbA,EACzBC,SAASC,iBAAiBF,GACjCA,aAAoBG,SACbH,EACJC,SAASC,iBAAiB,kBAVlBE,CAAkBJ,GACjC,GAAK3B,EAEL,OAAO,IAAI0B,EAAa3B,QAAQC,GAAQgC,aCTxCC,EAA2B,IAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa1C,QAGrB,IAAI4C,EAASL,EAAyBE,GAAY,CAGjDzC,QAAS,IAOV,OAHA6C,EAAoBJ,GAAUK,KAAKF,EAAO5C,QAAS4C,EAAQA,EAAO5C,QAASwC,GAGpEI,EAAO5C,SClBWwC,CAAoB,M","file":"/dist/index.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar smooth_loader_1 = __importDefault(require(\"smooth-loader\"));\nsmooth_loader_1[\"default\"]();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Class that handles lazy loading images with\n * Intersection Observer\n */\nclass default_1 {\n    constructor(images) {\n        this.observerOptions = {\n            root: null,\n            threshold: 0,\n        };\n        this.images = images;\n    }\n    /**\n     * If image has tag IMG then set the src attribute to img url,\n     * otherwise set the background of the element to given image url\n     */\n    loadImage(img) {\n        const imageUrl = img.getAttribute('data-src');\n        img.style.opacity = '0';\n        img.style.transition = 'opacity 777ms';\n        if (!imageUrl)\n            return;\n        if (img.tagName === 'IMG') {\n            img.setAttribute('src', imageUrl);\n            img.addEventListener('load', () => img.style.opacity = '1');\n        }\n        else {\n            img.style.backgroundImage = `url(${img.getAttribute('data-src')})`;\n            setTimeout(() => img.style.opacity = '1', 0);\n        }\n    }\n    /**\n     * Create observer object\n     */\n    createObserver(img) {\n        const observer = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    this.loadImage(img);\n                    observer.unobserve(img);\n                }\n            });\n        }, this.observerOptions);\n        observer.observe(img);\n    }\n    /**\n     * Creates image object, gets attributes from placeholder,\n     * sets them on image object, adds classes to image and\n     * when image is loaded, appends it to a placeholder\n     */\n    execute() {\n        this.images.forEach(img => {\n            !window['IntersectionObserver'] ? this.loadImage(img) : this.createObserver(img);\n        });\n    }\n}\nexports.default = default_1;\n//# sourceMappingURL=LazyLoader.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst LazyLoader_1 = __importDefault(require(\"./LazyLoader\"));\nexports.default = (selector) => {\n    const images = getImagesElements(selector);\n    if (!images)\n        return;\n    return new LazyLoader_1.default(images).execute();\n};\nfunction getImagesElements(selector) {\n    if (typeof selector === 'string' && selector !== '')\n        return document.querySelectorAll(selector);\n    if (selector instanceof NodeList)\n        return selector;\n    return document.querySelectorAll('.smooth-loader');\n}\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(749);\n"],"sourceRoot":""}